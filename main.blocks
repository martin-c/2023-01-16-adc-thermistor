<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="Sq]2Zl:P)yBO8o`M^uWh">r_therm</variable><variable id="9@Jd=kh`wbvVX-7`fl).">t_kelvin</variable></variables><block type="pxt-on-start" id="0Jnz2t8^y2xcJOOQnDlU" x="0" y="0"><statement name="HANDLER"><block type="basic_show_icon" id="MGo3^hs08vN~7EVg}[JL"><field name="i">IconNames.Yes</field></block></statement></block><block type="device_forever" id="lV:n`G=mjPs,f,,oz|4+" x="235" y="-3"><statement name="HANDLER"><block type="serial_writevalue" id="g0-ExG#O]~aTkG:,e7}#"><value name="name"><shadow type="text" id="/7per:KS-*b^ZON62I|^"><field name="TEXT">temp</field></shadow></value><value name="value"><block type="function_call_output" id="K#Ga$g/RZ6vzspVQJmJq"><mutation name="calc_temp" functionid="MZVVy4@EHYZ}E$JwME=@"><arg name="adc_count" id="4e5rgduxm1539nrqdeq6" type="number"></arg></mutation><value name="4e5rgduxm1539nrqdeq6"><shadow type="math_number"><field name="NUM">100</field></shadow><block type="device_get_analog_pin" id="6MbTxt2Bns@s`~hpQ;(B"><field name="name">AnalogPin.P0</field></block></value></block></value><next><block type="device_pause" id="S1AsA~kc5AH{sGzU8@Ct"><value name="pause"><shadow type="timePicker" id="/!$)a?*P$`:;$Y+usMuD"><field name="ms">100</field></shadow></value></block></next></block></statement></block><block type="function_definition" id="B[TvnKlf!l]osKrM+=hp" collapsed="true" x="3" y="246"><mutation name="calc_temp" functionid="MZVVy4@EHYZ}E$JwME=@"><arg name="adc_count" id="4e5rgduxm1539nrqdeq6" type="number"></arg></mutation><field name="function_name">calc_temp</field><value name="4e5rgduxm1539nrqdeq6"><shadow type="argument_reporter_number" id="E^E5GL/yp,`syT8~=,kw"><field name="VALUE">adc_count</field></shadow></value><statement name="STACK"><block type="variables_set" id="#pGX@Bab@8iC%$adu#fH"><field name="VAR" id="Sq]2Zl:P)yBO8o`M^uWh">r_therm</field><comment pinned="false" h="187" w="375">Calculate the temperature in deg C of an NTC
thermistor given an ADC count using the Beta equation.
Thermistor r0 is 10kOhm, thermistor Beta is 3988.</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="n_M4QKKcI]F:=#8^Ne5W"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="Rt?nXD;|n1Rnez{ayrg_"><field name="NUM">10000</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="00/_OctV=2typ|4f=M#9"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Co|L-O6|mt]o/``7I=f}"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="sRHE}@f5I?BM3X)uQES."><field name="NUM">1023</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="YZ@`mHb/oRQ|255l+/lZ"><field name="VALUE">adc_count</field></block></value></block></value><value name="B"><shadow type="math_number" id="rEA)~EVzgf[[VWa:=,Ow"><field name="NUM">1</field></shadow></value></block></value></block></value><next><block type="variables_set" id="d/j)[a1KXKPB,N5(tSWk"><field name="VAR" id="9@Jd=kh`wbvVX-7`fl).">t_kelvin</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="r@t/K;Hw=n/ebB|E@Znx"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="2B^MbTsl(mEXI$P}xfU5"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="}zaFKgCkL9@=sjo.Xc~0"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="?@.H_=#k1-DuhZi$!GCC"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="J*#;ld`+Aee@CXE:=jP6"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="A=hta}iiCSCD!ELRN`.i"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="pXG,GBt7m/Xn|RMF=sdx"><field name="NUM">273.15</field></shadow></value><value name="B"><shadow type="math_number" id="`)7|^ZQTa*l(Mi{dt-$0"><field name="NUM">25</field></shadow></value></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="5L_Y*u)^n)JB[5MA$NfH"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="*,2IGK?|g,G#8ihOXMGq"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="6:Le0ROW7!_90NX?1a%n"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number" id="81-Pz+xnwqb0Wf@EUI/^"><field name="NUM">3988</field></shadow></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="typescript_expression" id="Vu2Py:,|pGnstiVXB4!M" editable="false"><field name="EXPRESSION">Math.log(r_therm / 10E3)</field></block></value></block></value></block></value></block></value><next><block type="function_return" id="n`LD*+61p||Abb-SIE9O"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="i*X$^vx}4f*=wqpyXc_*"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="$5{?IXz#UEEYzef^aX/#"><field name="VAR" id="9@Jd=kh`wbvVX-7`fl).">t_kelvin</field></block></value><value name="B"><shadow type="math_number" id="YKBv)@Yd8y-A-gWkr^8H"><field name="NUM">273.15</field></shadow></value></block></value></block></next></block></next></block></statement></block></xml>